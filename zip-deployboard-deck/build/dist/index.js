function e(e){var r={exports:{}};return e(r,r.exports),r.exports}var r=e((function(e){!function(){var r={}.hasOwnProperty;function t(){for(var e=[],a=0;a<arguments.length;a++){var s=arguments[a];if(s){var n=typeof s;if("string"===n||"number"===n)e.push(s);else if(Array.isArray(s)){if(s.length){var i=t.apply(null,s);i&&e.push(i)}}else if("object"===n)if(s.toString===Object.prototype.toString)for(var l in s)r.call(s,l)&&s[l]&&e.push(l);else e.push(s.toString())}}return e.join(" ")}e.exports?(t.default=t,e.exports=t):window.classNames=t}()})),t=e((function(e,r){var t=60103;if(r.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var a=Symbol.for;t=a("react.element"),r.Fragment=a("react.fragment")}var s=spinnaker.plugins.sharedLibraries.react.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,i={key:!0,ref:!0,__self:!0,__source:!0};function l(e,r,a){var l,o={},p=null,c=null;for(l in void 0!==a&&(p=""+a),void 0!==r.key&&(p=""+r.key),void 0!==r.ref&&(c=r.ref),r)n.call(r,l)&&!i.hasOwnProperty(l)&&(o[l]=r[l]);if(e&&e.defaultProps)for(l in r=e.defaultProps)void 0===o[l]&&(o[l]=r[l]);return{$$typeof:t,type:e,key:p,ref:c,props:o,_owner:s.current}}r.jsx=l,r.jsxs=l}));
/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.14.0
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
e((function(e,r){}));var a=e((function(e){e.exports=t}));const s=spinnaker.plugins.sharedLibraries.react.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"});const n=["as","disabled"];function i({tagName:e,disabled:r,href:t,target:a,rel:s,role:n,onClick:i,tabIndex:l=0,type:o}){e||(e=null!=t||null!=a||null!=s?"a":"button");const p={tagName:e};if("button"===e)return[{type:o||"button",disabled:r},p];const c=a=>{(r||"a"===e&&function(e){return!e||"#"===e.trim()}(t))&&a.preventDefault(),r?a.stopPropagation():null==i||i(a)};return"a"===e&&(t||(t="#"),r&&(t=void 0)),[{role:null!=n?n:"button",disabled:void 0,tabIndex:r?void 0:l,href:t,target:"a"===e?a:void 0,"aria-disabled":r||void 0,rel:"a"===e?s:void 0,onClick:c,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),c(e))}},p]}spinnaker.plugins.sharedLibraries.react.forwardRef(((e,r)=>{let{as:t,disabled:s}=e,l=function(e,r){if(null==e)return{};var t,a,s={},n=Object.keys(e);for(a=0;a<n.length;a++)t=n[a],r.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);const[o,{tagName:p}]=i(Object.assign({tagName:t,disabled:s},l));return a.jsx(p,Object.assign({},l,o,{ref:r}))})).displayName="Button";const l=spinnaker.plugins.sharedLibraries.react.forwardRef((({as:e,bsPrefix:t,variant:n,size:l,active:o,className:p,...c},u)=>{const d=function(e,r){const{prefixes:t}=spinnaker.plugins.sharedLibraries.react.useContext(s);return e||t[r]||r}(t,"btn"),[h,{tagName:g}]=i({tagName:e,...c}),b=g;return a.jsx(b,{...h,...c,ref:u,className:r(p,d,o&&"active",n&&`${d}-${n}`,l&&`${d}-${l}`,c.href&&c.disabled&&"disabled")})}));l.displayName="Button",l.defaultProps={variant:"primary",active:!1,disabled:!1};const o=({commits:e,currentSort:r,toggleSort:t})=>spinnaker.plugins.sharedLibraries.react.createElement("table",{className:"table table-hover"},spinnaker.plugins.sharedLibraries.react.createElement("thead",null,spinnaker.plugins.sharedLibraries.react.createElement("tr",null,spinnaker.plugins.sharedLibraries.react.createElement("th",{style:{width:"15%"}},"Deployed"),spinnaker.plugins.sharedLibraries.react.createElement("th",{style:{width:"15%"}},spinnaker.plugins.sharedLibraries.react.createElement(spinnaker.plugins.sharedLibraries._spinnaker_core.SortToggle,{currentSort:r,onChange:t,label:"Author",sortKey:"author"})),spinnaker.plugins.sharedLibraries.react.createElement("th",{style:{width:"15%"}},"Message"),spinnaker.plugins.sharedLibraries.react.createElement("th",{style:{width:"15%"}},"Sha"),spinnaker.plugins.sharedLibraries.react.createElement("th",{style:{width:"15%"}},spinnaker.plugins.sharedLibraries.react.createElement(spinnaker.plugins.sharedLibraries._spinnaker_core.SortToggle,{currentSort:r,onChange:t,label:"Timestamp",sortKey:"timestamp"})),spinnaker.plugins.sharedLibraries.react.createElement("th",{style:{width:"15%"}},"Actions"))),spinnaker.plugins.sharedLibraries.react.createElement("tbody",null,e.map((e=>spinnaker.plugins.sharedLibraries.react.createElement("tr",{className:"clickable"},spinnaker.plugins.sharedLibraries.react.createElement("td",null,e.currentlyDeployed),spinnaker.plugins.sharedLibraries.react.createElement("td",null,e.author),spinnaker.plugins.sharedLibraries.react.createElement("td",null,e.message),spinnaker.plugins.sharedLibraries.react.createElement("td",null,e.sha),spinnaker.plugins.sharedLibraries.react.createElement("td",null,e.timestamp),spinnaker.plugins.sharedLibraries.react.createElement("td",null,spinnaker.plugins.sharedLibraries.react.createElement(l,null,"Deploy")))))));function p(e){const r=e.app.getDataSource("snapshots"),{data:t,status:a,loaded:s}=spinnaker.plugins.sharedLibraries._spinnaker_core.useDataSource(r);spinnaker.plugins.sharedLibraries.react.useEffect((()=>{r.activate()}),[]),spinnaker.plugins.sharedLibraries._uirouter_react.useRouter(),spinnaker.plugins.sharedLibraries._uirouter_react.useCurrentStateAndParams();const[n,i]=spinnaker.plugins.sharedLibraries.react.useState(""),[l,p]=spinnaker.plugins.sharedLibraries.react.useState("Timestamp");return spinnaker.plugins.sharedLibraries.react.createElement(o,{commits:t,toggleDeploy:i,currentSort:l,toggleSort:p})}const c={key:"snapshots",label:"Snapshots",autoActivate:!0,activeState:"**.snapshots.**",visible:!0,sref:".snapshots",defaultData:[{author:"test",sha:"test",message:"test",timestamp:"test",branch:"test",currentlyDeployed:"test"},{author:"test",sha:"test",message:"test",timestamp:"test",branch:"test",currentlyDeployed:"test"},{author:"test",sha:"test",message:"test",timestamp:"test",branch:"test",currentlyDeployed:"test"}],description:"Snapshot View",iconName:"build",loader:e=>class{static get MAX_LINES(){return 4095}static getBuilds(){return spinnaker.plugins.sharedLibraries._spinnaker_core.REST("snapshots/builds").get().then((e=>e.map((e=>{}))))}}.getBuilds(),onLoad:(e,r)=>Promise.resolve(r),lazy:!0};const u={initialize:()=>{window.spinnaker.$injector.get("applicationState").addChildState({name:"snapshots",url:"/snapshots",views:{insight:{component:p,$type:"react"}}}),spinnaker.plugins.sharedLibraries._spinnaker_core.ApplicationDataSourceRegistry.registerDataSource(c)}};export{u as plugin};
//# sourceMappingURL=index.js.map
